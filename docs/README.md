# 우테코 식당 이벤트 플래너

[1. 소개](#소개)  
[2. 실행 예시](#실행-예시)  
[3. 기능 목록](#기능-목록)  
[4. 프로그래밍 요구 사항](#프로그래밍-요구-사항)  
[5. 피드백](#피드백)

## 소개

> 본 **우테코 식당 이벤트**는 2023년 12월에 진행될 예정으로, 다음 세가지 목표를 가지고 있습니다.
> 1) 중복된 할인과 증정을 허용해서, 고객들이 혜택을 많이 받는다는 것을 체감할 수 있게 하는 것
> 2) 올해 12월에 지난 5년 중 최고의 판매 금액을 달성
> 3) 12월 이벤트 참여 고객의 5%가 내년 1월 새해 이벤트에 재참여하는 것

> 현재, 계획 중인 이벤트는 다음과 같습니다.
> 1) 크리스마스 디데이 할인
> 2) 평일 할인
> 3) 주말 할인
> 4) 특별 할인
> 5) 증정 이벤트
>
> 본 프로그램에서 이벤트 진행을 위해 구현된 기능은  [[3. 기능목록]](#기능-목록) 을 참고하시면 됩니다.

## 실행 예시

```
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
3
주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1
12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
 
<주문 메뉴>
티본스테이크 1개
바비큐립 1개
초코케이크 2개
제로콜라 1개
 
<할인 전 총주문 금액>
142,000원
 
<증정 메뉴>
샴페인 1개
 
<혜택 내역>
크리스마스 디데이 할인: -1,200원
평일 할인: -4,046원
특별 할인: -1,000원
증정 이벤트: -25,000원
 
<총혜택 금액>
-31,246원
 
<할인 후 예상 결제 금액>
135,754원
 
<12월 이벤트 배지>
산타
```

## 기능 목록

- [x] 식당 예상 방문 날짜 입력 받기
    - [x] `Console.readLine()`을 활용
    - [x] 숫자가 아닐 경우 예외처리
    - [x] 숫자의 범위가 1 ~ 31을 벗어날 경우 예외처리
        - [x] "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해주세요." 출력
    - [x] 모든 잘못된 입력에 대해 `IllegalArgumentException` 발생, "[ERROR]"로 시작하는 에러 메시지 출력, 재입력 받기

- [x] 방문 날짜로 이벤트 적용 여부/할인금액 확인
    - [x] 크리스마스 디데이 할인
        - [x] 12월 1일 ~ 12월 25일
        - [x] 할인 금액이 12월 1일에 1,000원으로 시작해서 날마다 100원씩 증가
    - [x] 평일 할인(일요일 ~ 목요일)
        - [x] 12월 1일 ~ 12월 31일
        - [x] 디저트 메뉴 1개당 2,023원 할인
    - [x] 주말 할인(금요일, 토요일)
        - [x] 12월 1일 ~ 12월 31일
        - [x] 메인 메뉴 1개당 2,023원 할인
    - [x] 특별 할인
        - [x] 12월 3일, 10일, 17일, 24일, 25일, 31일
        - [x] 총 주문 금액에서 1,000원 할인

- [x] 메뉴 관리
    - [x] 메뉴 이름, 가격, 카테고리로 구성

- [ ] 주문할 메뉴와 메뉴 개수 입력 받기
    - [x] `Console.readLine()`을 활용
    - [x] 메뉴판에 존재하지 않는 메뉴 예외처리
        - [x] "[ERROR] 유효하지 않은 주문입니다. 다시 입력해주세요." 출력
    - [x] 메뉴의 개수가 1 미만일 경우 예외처리
        - [x] 이외의 입력값은 모두 "[ERROR] 유효하지 않은 주문입니다. 다시 입력해주세요." 출력
    - [x] 메뉴 형식이 예시와 다른 경우 예외처리(e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
        - [x] "[ERROR] 유효하지 않은 주문입니다. 다시 입력해주세요." 출력
    - [x] 중복 메뉴를 입력한 경우 예외처리(e.g. 시저샐러드-1,시저샐러드-1)
        - [x] "[ERROR] 유효하지 않은 주문입니다. 다시 입력해주세요." 출력
    - [x] 음료만 주문할 경우 예외처리
        - [x] "[ERROR] 음료만 주문할 수 없습니다. 다시 입력해주세요." 출력
    - [x] 메뉴 개수가 20개를 초과할 경우 예외처리
        - [x] "[ERROR] 한 번에 최대 20개까지만 주문 가능합니다. 다시 입력해주세요." 출력
    - [x] 모든 잘못된 입력에 대해 `IllegalArgumentException` 발생, "[ERROR]"로 시작하는 에러 메시지 출력, 재입력 받기

- [x] 주문 메뉴 확인용 출력
    - [x] 주문 메뉴의 출력 순서는 자유

- [x] 총 주문 금액 계산
    - [x] 총 주문 금액 10,000원 이상부터 이벤트 적용
    - [x] 금액 출력 시, 3자리마다 콤마(,) 출력

- [x] 할인 전 총 주문 금액 출력
    - [x] (할인 전 총 주문 금액) = (메뉴 가격) * (메뉴 주문수)
    - [x] 금액 출력 시, 3자리마다 콤마(,) 출력

- [x] 증정 메뉴 출력
    - [x] 할인 전 총 주문 금액이 12만원 이상일 때, 샴페인 1개(25,000원) 증정
    - [x] 증정 이벤트에 해당하지 않는 경우, 증정 메뉴 "없음" 출력

- [x] 혜택 내역 출력
    - [x] 고객에게 적용된 이벤트 내역만 출력
    - [x] 적용된 이벤트가 없는 경우, 혜택 내역 "없음" 출력
    - [x] 혜택 내역의 출력 순서는 자유
    - [x] 적용된 이벤트와 혜택 금액 출력
    - [x] 금액 출력 시, 3자리마다 콤마(,) 출력

- [x] 총 혜택 금액 계산
    - [x] (총 혜택 금액) = (할인 금액의 합계) + (증정 메뉴의 가격)

- [x] 총 혜택 금액 출력
    - [x] 금액 출력 시, 3자리마다 콤마(,) 출력

- [x] 할인 후 예상 결제 금액 출력
    - [x] (할인 후 예상 결제 금액) = (할인 전 총 주문 금액) - (할인 금액)
    - [x] 할인 금액에 증정 혜택 포함시키지 않게 주의
    - [x] 금액 출력 시, 3자리마다 콤마(,) 출력

- [x] 이벤트 배지 관리

- [x] 12월 이벤트 배지 출력
    - [x] 총 혜택 금액에 따라 이벤트 배지를 다르게 함
        - [x] 5천 원 이상: 별
        - [x] 1만 원 이상: 트리
        - [x] 2만 원 이상: 산타
    - [x] 이벤트 배지가 부여되지 않는 경우, 이벤트 배지 "없음" 출력

## 프로그래밍 요구 사항

- [x] indent depth는 2까지만 허용
- [x] 3항 연산자 사용 금지
- [x] 함수가 15라인을 넘어가지 않도록 구현
- [x] JUnit 5, AssertJ를 활용해 테스트 코드 작성
- [x] else 예약어 사용 금지
- [x] switch-case 사용 금지
- [x] `InputView`, `OutputView` 클래스를 활용해 입력과 출력을 담당하는 클래스를 별도로 구현

## 피드백

- [x] main 함수도 15라인으로 제한, 공백 라인도 한 라인
- [x] 발생할 수 있는 예외 상황에 대해 고민하기
- [x] 비즈니스 로직과 UI 로직을 분리하기
    - [x] 비즈니스 로직과 UI 로직을 한 클래스가 담당하지 않도록 구분(SRP 원칙에 위배)
    - [x] 객체의 상태를 보기 위함 -> toString()
    - [x] View에서 사용할 데이터 -> getter 메서드로 데이터 전달
- [x] 연관성이 있는 상수는 enum을 활용
- [x] final 키워드를 활용해 값의 변경 막기
- [x] 객체의 상태 접근을 제한
    - [x] 인스턴스 변수의 접근 제어자는 private
- [x] 객체는 객체스럽게 사용하기
    - [x] 데이터를 가지는 객체가 일하도록 하기
- [x] 필드(인스턴스 변수)의 수를 줄이기 위해 노력하기
- [x] 성공하는 케이스, 예외 케이스 모두 테스트하기
- [x] 테스트 코드도 리팩터링의 대상
- [x] 테스트를 위한 코드는 구현 코드에서 분리
- [x] 단위 테스트하기 어려운 코드를 단위 테스트하기
- [x] private 함수를 테스트 하고 싶다면 클래스(객체) 분리를 고려